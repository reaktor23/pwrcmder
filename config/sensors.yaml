- platform: systemmonitor
  resources:
      - type: memory_free
      - type: ipv4_address
      - type: processor_use
      - type: last_boot

- platform: onewire
  names:
    28-0000062762df: Sofa
    28-000006288e90: Zuluft
    
- platform: time_date
  display_options:
    - 'time'

- platform: template
  sensors:
    person_count:
      friendly_name: "Members present"
      unit_of_measurement: 'members'
      # using sensor.time triggers an update of this sensor every minute, otherwise we would never see this updated on state change
      entity_id: sensor.time
      value_template: >-
        {% set ns = namespace(count=0) %}
        {% for person in states.person %}
          {% if person.state == "home" %}
            {% set ns.count = ns.count + 1 %}
          {% endif %}
        {% endfor %}
        {{ ns.count }}


